<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Intel NUCS | IQR Lab Docs</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="&#39;stylesheet" href="/docs/styles/website.css">
    <meta name="description" content="">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/docs/assets/css/0.styles.fb9d2dab.css" as="style"><link rel="preload" href="/docs/assets/js/app.f9b1d26c.js" as="script"><link rel="preload" href="/docs/assets/js/2.32ad0193.js" as="script"><link rel="preload" href="/docs/assets/js/1.39e60e22.js" as="script"><link rel="preload" href="/docs/assets/js/26.eff88066.js" as="script"><link rel="preload" href="/docs/assets/js/7.8d2594b0.js" as="script"><link rel="prefetch" href="/docs/assets/js/11.f3158a49.js"><link rel="prefetch" href="/docs/assets/js/12.2fe931d8.js"><link rel="prefetch" href="/docs/assets/js/13.07e8eede.js"><link rel="prefetch" href="/docs/assets/js/14.846634e6.js"><link rel="prefetch" href="/docs/assets/js/15.3868cfce.js"><link rel="prefetch" href="/docs/assets/js/16.ac55aee3.js"><link rel="prefetch" href="/docs/assets/js/17.3b86b9f6.js"><link rel="prefetch" href="/docs/assets/js/18.19f02593.js"><link rel="prefetch" href="/docs/assets/js/19.765b258f.js"><link rel="prefetch" href="/docs/assets/js/20.ebc99727.js"><link rel="prefetch" href="/docs/assets/js/21.d628bfcb.js"><link rel="prefetch" href="/docs/assets/js/22.632eebe2.js"><link rel="prefetch" href="/docs/assets/js/23.fded27bd.js"><link rel="prefetch" href="/docs/assets/js/24.f0fc5c49.js"><link rel="prefetch" href="/docs/assets/js/25.1ee4ed31.js"><link rel="prefetch" href="/docs/assets/js/27.5a960aa3.js"><link rel="prefetch" href="/docs/assets/js/28.4e635b95.js"><link rel="prefetch" href="/docs/assets/js/29.01a0d48a.js"><link rel="prefetch" href="/docs/assets/js/3.284beaac.js"><link rel="prefetch" href="/docs/assets/js/30.15da0b6d.js"><link rel="prefetch" href="/docs/assets/js/31.1185d429.js"><link rel="prefetch" href="/docs/assets/js/32.1c6a0524.js"><link rel="prefetch" href="/docs/assets/js/4.5297f726.js"><link rel="prefetch" href="/docs/assets/js/5.c860cad3.js"><link rel="prefetch" href="/docs/assets/js/6.6bd761c5.js"><link rel="prefetch" href="/docs/assets/js/8.9caaf13c.js"><link rel="prefetch" href="/docs/assets/js/vendors~docsearch.c6c2fc87.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.fb9d2dab.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/" class="home-link router-link-active"><!----> <span class="site-name">IQR Lab Docs</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"> <div class="nav-item"><a role="button" aria-label="Switch to light mode" class="nav-link"><span>Switch theme</span></a></div> <a href="https://github.com/iqr-lab/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <div class="nav-item"><a role="button" aria-label="Switch to light mode" class="nav-link"><span>Switch theme</span></a></div> <a href="https://github.com/iqr-lab/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Introduction</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/" aria-current="page" class="sidebar-link">IQR Lab Docs</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Computer Vision</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/computer-vision/intel-nucs.html" aria-current="page" class="active sidebar-link">Intel NUCS</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/computer-vision/intel-nucs.html#prerequisite" class="sidebar-link">Prerequisite</a></li><li class="sidebar-sub-header"><a href="/docs/computer-vision/intel-nucs.html#intel-realsense" class="sidebar-link">Intel Realsense</a></li><li class="sidebar-sub-header"><a href="/docs/computer-vision/intel-nucs.html#kernel-downgrade" class="sidebar-link">Kernel Downgrade</a></li><li class="sidebar-sub-header"><a href="/docs/computer-vision/intel-nucs.html#networking" class="sidebar-link">Networking</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/computer-vision/intel-nucs.html#ip-address-assignment" class="sidebar-link">IP Address Assignment</a></li><li class="sidebar-sub-header"><a href="/docs/computer-vision/intel-nucs.html#hostname" class="sidebar-link">Hostname</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs/computer-vision/intel-nucs.html#remote-access" class="sidebar-link">Remote Access</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/computer-vision/intel-nucs.html#ssh" class="sidebar-link">SSH</a></li><li class="sidebar-sub-header"><a href="/docs/computer-vision/intel-nucs.html#remote-desktop" class="sidebar-link">Remote Desktop</a></li></ul></li></ul></li><li><a href="/docs/computer-vision/intel-realsense.html" class="sidebar-link">Intel RealSense</a></li><li><a href="/docs/computer-vision/pointcloud-stitching.html" class="sidebar-link">Pointcloud Stitching for IQR Lab</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Vention</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/vention/intro.html" class="sidebar-link">Introduction [Under Construction]</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Kinova</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/kinova/intro.html" class="sidebar-link">Introduction [Under Construction]</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Website</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/website/intro.html" class="sidebar-link">Adding a new lab member</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-succinct-content content__default"><h1 id="intel-nucs"><a href="#intel-nucs" class="header-anchor">#</a> Intel NUCS</h1> <p>This document covers all initial setup details for each NUC edge device in the distributed pointcloud stitching system.</p> <h2 id="prerequisite"><a href="#prerequisite" class="header-anchor">#</a> Prerequisite</h2> <ol><li>Disable Secure Boot in UEFI (F2 hotkey at POST)</li> <li>Enable Display Emulation under Advanced -&gt; Video</li> <li>An Internet Connection</li></ol> <h2 id="intel-realsense"><a href="#intel-realsense" class="header-anchor">#</a> Intel Realsense</h2> <p>Ensure that your kernel version (<code>uname -r</code>) is supported by the <code>librealsense-dkms</code> package <a href="https://github.com/IntelRealSense/librealsense/blob/master/doc/distribution_linux.md#using-pre-build-packages" target="_blank" rel="noopener noreferrer">here<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>If not, please follow the following section on downgrading your kernel <strong>BEFORE</strong> installing <code>librealsense</code>.</p> <p>Please install <code>librealsense</code> from distribution following <a href="https://iqr.cs.yale.edu/docs/computer-vision/intel-realsense.html" target="_blank" rel="noopener noreferrer">Intel Realsense<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. Note the manual installation step required for NUCs only.</p> <h2 id="kernel-downgrade"><a href="#kernel-downgrade" class="header-anchor">#</a> Kernel Downgrade</h2> <ol><li><p>Install Mainline</p> <blockquote><div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">sudo</span> apt-add-repository <span class="token parameter variable">-y</span> ppa:cappelikan/ppa

<span class="token function">sudo</span> <span class="token function">apt</span> update

<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> mainline
</code></pre></div></blockquote></li> <li><p>Install the downgraded kernel via Mainline</p></li> <li><p>Reboot and hold <code>Esc</code> to access the GRUB menu</p> <p>Hint: If you held <code>Esc</code> for too long (which is very likely), you will enter the GRUB prompt instead. Execute <code>normal</code>, then tap <code>Esc</code> until the menu shows up</p></li> <li><p>Boot from the downgraded kernel in the Advanced Ubuntu Boot Options</p></li> <li><p>Uninstall any newer kernels from Mainline so that Ubuntu boots to the downgraded kernel by default.</p> <p>Hint: You may need to uninstall some <code>generic-hwe</code> image/headers packages before this step. If this is the case, use</p> <blockquote><div class="language-sh extra-class"><pre class="language-sh"><code>dpkg <span class="token parameter variable">--list</span> <span class="token operator">|</span> <span class="token function">grep</span> linux-image <span class="token comment"># to find the exact package name of linux-image-xxx</span>
<span class="token function">sudo</span> <span class="token function">apt-get</span> purge linux-image-xxx
</code></pre></div></blockquote></li></ol> <h2 id="networking"><a href="#networking" class="header-anchor">#</a> Networking</h2> <p>We establish <strong><code>i</code></strong> as the corresponding device number, indexed by 1.</p> <p>Ensure that the ethernet cable is connected to a port with a native <code>Vision Subnet</code> tag. For exact port mappings, please check the UniFi controller configuration. As of the time of writing, the top row of the 2.5Gbps ports are all natively tagged to the <code>Vision Subnet</code></p> <h3 id="ip-address-assignment"><a href="#ip-address-assignment" class="header-anchor">#</a> IP Address Assignment</h3> <p>The easiest way to configure manual IP assignment is through the Settings app. Please configure a wired IPv4 profile with the following specs:</p> <ul><li>IPv4 Method: Manual</li> <li>Address: <code>192.168.2.[7 + i]</code></li> <li>Netmask: <code>255.255.255.0</code></li> <li>Gateway: <code>192.168.2.1</code></li></ul> <h3 id="hostname"><a href="#hostname" class="header-anchor">#</a> Hostname</h3> <p>For ease of access, please configure the hostname as necessary.</p> <blockquote><div class="language-sh extra-class"><pre class="language-sh"><code>hostnamectl set-hostname iqr-vision-i
</code></pre></div></blockquote> <h2 id="remote-access"><a href="#remote-access" class="header-anchor">#</a> Remote Access</h2> <h3 id="ssh"><a href="#ssh" class="header-anchor">#</a> SSH</h3> <p>Please follow standard SSH key generation (<code>ssh-keygen</code>) and installation methods (<code>ssh-copy-id</code>). Since we have already set the hostname, it should be used as <code>iqr-vision-i.local</code>.</p> <h3 id="remote-desktop"><a href="#remote-desktop" class="header-anchor">#</a> Remote Desktop</h3> <p>The remote desktop software of choice is RustDesk.</p> <p>There are variety of reasons for this choice over AnyDesk but the following are the critical ones:</p> <ul><li>Virtual Display Compatibility
<ul><li>AnyDesk throws an Unsupported Display Server error under headless operation</li></ul></li> <li>Speed &amp; Performance
<ul><li>RustDesk empirically displays significantly lower input latency and higher visual quality</li></ul></li></ul> <h4 id="installation-configuration"><a href="#installation-configuration" class="header-anchor">#</a> Installation &amp; Configuration</h4> <ol><li><p>Follow the <a href="https://rustdesk.com/docs/en/client/linux/" target="_blank" rel="noopener noreferrer">reference install steps<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p>Once installed, open RustDesk and set a permanent password under the Security tab</p> <p>Hint: It is usually set to the <code>lab</code> password but capatalized</p></li> <li><p><a href="https://rustdesk.com/docs/en/client/linux/#login-screen" target="_blank" rel="noopener noreferrer">Disable Wayland login<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p>Open Settings -&gt; Display</p></li> <li><p>Set the display scheme to Mirror Display</p> <p>Hint: Setting the resolution now only impacts the virtual display (the RustDesk display) when headless</p></li></ol></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">4/9/2024, 7:06:31 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ⟵
      <a href="/docs/" class="prev router-link-active">
        IQR Lab Docs
      </a></span> <span class="next"><a href="/docs/computer-vision/intel-realsense.html">
        Intel RealSense
      </a>
      ⟶
    </span></p></div> </main></div><div class="global-ui"><div style="visibility:hidden;display:none;"></div><!----></div></div>
    <script src="/docs/assets/js/app.f9b1d26c.js" defer></script><script src="/docs/assets/js/2.32ad0193.js" defer></script><script src="/docs/assets/js/1.39e60e22.js" defer></script><script src="/docs/assets/js/26.eff88066.js" defer></script><script src="/docs/assets/js/7.8d2594b0.js" defer></script>
  </body>
</html>
